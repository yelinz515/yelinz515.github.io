{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/2022-08-10/",
    "result": {"data":{"cur":{"id":"2c5a14db-5c3e-54d2-aed1-8c2372d0d6df","html":"<h2 id=\"states-airline-ì‹œì‘í•˜ê¸°\" style=\"position:relative;\"><a href=\"#states-airline-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"states airline ì‹œì‘í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>States Airline ì‹œì‘í•˜ê¸°</h2>\n<h3 id=\"useeffect\" style=\"position:relative;\"><a href=\"#useeffect\" aria-label=\"useeffect permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useEffect</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">useEffect(í•¨ìˆ˜, []) // ì²˜ìŒë§Œ ì‹¤í–‰</code></pre></div>\n<p><code class=\"language-text\">useEffect(í•¨ìˆ˜)</code>\r\në‘ ë²ˆì§¸ ì „ë‹¬ì¸ìì¸ ì¢…ì†ì„±ì´ ì—†ìœ¼ë©´ ì²«ë²ˆì§¸ ì „ë‹¬ì¸ìì¸ í•¨ìˆ˜ë¥¼ _______________ ì‹¤í–‰í•œë‹¤.</p>\n<ul>\n<li>ì²˜ìŒ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë  ë•Œ</li>\n<li>propsê°€ ë³€ê²½ë  ë•Œ</li>\n<li>stateê°€ ë³€ê²½ë  ë•Œ</li>\n</ul>\n<h3 id=\"promise\" style=\"position:relative;\"><a href=\"#promise\" aria-label=\"promise permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>promise</h3>\n<p>Promise <code class=\"language-text\">resolve()</code>ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ë ¤ë©´ <code class=\"language-text\">.then</code> ì‚¬ìš©</p>\n<p>ì˜ˆì‹œ:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> aa <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hi\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n<h2 id=\"states-airline\" style=\"position:relative;\"><a href=\"#states-airline\" aria-label=\"states airline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>States Airline</h2>\n<h3 id=\"loadingindicatorjs\" style=\"position:relative;\"><a href=\"#loadingindicatorjs\" aria-label=\"loadingindicatorjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LoadingIndicator.js</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">LoadingIndicator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>img\r\n      className<span class=\"token operator\">=</span><span class=\"token string\">\"loading-indicator\"</span>\r\n      alt<span class=\"token operator\">=</span><span class=\"token string\">\"now loading...\"</span>\r\n      src<span class=\"token operator\">=</span><span class=\"token string\">\"loading.gif\"</span>\r\n      style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> margin<span class=\"token operator\">:</span> <span class=\"token string\">'1rem'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> LoadingIndicator<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">&lt;LoadingIndicator /></code> ë¼ëŠ” ë¡œë”© í™”ë©´ êµ¬í˜„ì€ ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•˜ë‹¤. ê°œë°œìë¼ë©´ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œ ê´€ëŒ€í•´ì§€ë©´ ì•ˆëœë‹¤. êµ¬í˜„í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤.</p>\n<p><img src=\"/6ecec75d18c07727372352ecc77ad605/loading.gif\" alt=\"Chinese Salty Egg\"></p>\n<h3 id=\"mainjs\" style=\"position:relative;\"><a href=\"#mainjs\" aria-label=\"mainjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Main.js</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">getFlight</span><span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">)</span> <span class=\"token comment\">//conditionìœ¼ë¡œ newPromiseì˜ fliteredë¥¼ ì‚¬ìš©í•œë‹¤.</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">filter</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">setFlightList</span><span class=\"token punctuation\">(</span>filter<span class=\"token punctuation\">)</span> <span class=\"token comment\">//filighlistì— ë°ì´í„°ë¥¼ ë‹´ê³ </span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë¡œë”© ë„ê¸°</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>condition<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">.then</code> ë°–ì— <code class=\"language-text\">setIsLoading(false);</code> ì„ ì–¸ë˜ì–´ ìˆëŠ”ë° ì‹¤í–‰ì€ ë˜ì§€ë§Œ <code class=\"language-text\">.then</code>ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê¸° ë•Œë¬¸ì— <code class=\"language-text\">setIsLoading(false);</code>ì„ ë°”ë¡œ ì‹¤í–‰ì´ ëœë‹¤.</p>\n<p>ê·¸ë ‡ê¸° ë•Œë¬¸ì— <code class=\"language-text\">setIsLoading(false);</code>ì„ <code class=\"language-text\">.then</code>ì•ˆì— ë„£ì–´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p><strong>Main.js</strong> ì „ì²´ ì½”ë“œëŠ” ì´ë ‡ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getFlight <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../api/FlightDataApi'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> FlightList <span class=\"token keyword\">from</span> <span class=\"token string\">'./component/FlightList'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> LoadingIndicator <span class=\"token keyword\">from</span> <span class=\"token string\">'./component/LoadingIndicator'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Search <span class=\"token keyword\">from</span> <span class=\"token string\">'./component/Search'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Debug <span class=\"token keyword\">from</span> <span class=\"token string\">'./component/Debug'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// í›„ë°˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ ì•„ë˜ importë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// í•­ê³µí¸ ê²€ìƒ‰ ì¡°ê±´ì„ ë‹´ê³  ìˆëŠ” ìƒíƒœ</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>condition<span class=\"token punctuation\">,</span> setCondition<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    departure<span class=\"token operator\">:</span> <span class=\"token string\">'ICN'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flightList<span class=\"token punctuation\">,</span> setFlightList<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// ì£¼ì–´ì§„ ê²€ìƒ‰ í‚¤ì›Œë“œì— ë”°ë¼ condition ìƒíƒœë¥¼ ë³€ê²½ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">search</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> departure<span class=\"token punctuation\">,</span> destination <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n      condition<span class=\"token punctuation\">.</span>departure <span class=\"token operator\">!==</span> departure <span class=\"token operator\">||</span>\r\n      condition<span class=\"token punctuation\">.</span>destination <span class=\"token operator\">!==</span> destination\r\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'condition ìƒíƒœë¥¼ ë³€ê²½ì‹œí‚µë‹ˆë‹¤'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token comment\">// TODO: search í•¨ìˆ˜ê°€ ì „ë‹¬ ë°›ì•„ì˜¨ 'í•­ê³µí¸ ê²€ìƒ‰ ì¡°ê±´' ì¸ìë¥¼ condition ìƒíƒœì— ì ì ˆí•˜ê²Œ ë‹´ì•„ë³´ì„¸ìš”.</span>\r\n      <span class=\"token function\">setCondition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>departure<span class=\"token punctuation\">,</span> destination<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">filterByCondition</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">flight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> pass <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span>departure<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      pass <span class=\"token operator\">=</span> pass <span class=\"token operator\">&amp;&amp;</span> flight<span class=\"token punctuation\">.</span>departure <span class=\"token operator\">===</span> condition<span class=\"token punctuation\">.</span>departure<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      pass <span class=\"token operator\">=</span> pass <span class=\"token operator\">&amp;&amp;</span> flight<span class=\"token punctuation\">.</span>destination <span class=\"token operator\">===</span> condition<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> pass<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  global<span class=\"token punctuation\">.</span>search <span class=\"token operator\">=</span> search<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì‹¤í–‰ì—ëŠ” ì „í˜€ ì§€ì¥ì´ ì—†ì§€ë§Œ, í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í•„ìš”í•œ ì½”ë“œì…ë‹ˆë‹¤. ì´ ì½”ë“œëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš”!</span>\r\n\r\n  <span class=\"token comment\">// TODO: Effeck Hookì„ ì´ìš©í•´ AJAX ìš”ì²­ì„ ë³´ë‚´ë³´ì„¸ìš”.</span>\r\n  <span class=\"token comment\">// TODO: ë”ë¶ˆì–´, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ì§„í–‰ë¨ì„ ë³´ì—¬ì£¼ëŠ” ë¡œë”© ì»´í¬ë„ŒíŠ¸(&lt;LoadingIndicator/>)ë¥¼ ì œê³µí•´ë³´ì„¸ìš”.</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">getFlight</span><span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">)</span> <span class=\"token comment\">//conditionìœ¼ë¡œ newPromiseì˜ fliteredë¥¼ ì‚¬ìš©í•œë‹¤.</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">filter</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">setFlightList</span><span class=\"token punctuation\">(</span>filter<span class=\"token punctuation\">)</span> <span class=\"token comment\">//filighlistì— ë°ì´í„°ë¥¼ ë‹´ê³ </span>\r\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë¡œë”© ë„ê¸°</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>condition<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token comment\">// TODO: í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì§€ì‹œì— ë”°ë¼ search í•¨ìˆ˜ë¥¼ Search ì»´í¬ë„ŒíŠ¸ë¡œ ë‚´ë ¤ì£¼ì„¸ìš”.</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Head<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>States Airline<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"icon\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/favicon.ico\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Head<span class=\"token operator\">></span>\r\n\r\n      <span class=\"token operator\">&lt;</span>main<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>ì—¬í–‰ê°€ê³  ì‹¶ì„ ë•<span class=\"token punctuation\">,</span> States Airline<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>Search onSearch<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>search<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"table\"</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"row-header\"</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col\"</span><span class=\"token operator\">></span>ì¶œë°œ<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col\"</span><span class=\"token operator\">></span>ë„ì°©<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col\"</span><span class=\"token operator\">></span>ì¶œë°œ ì‹œê°<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col\"</span><span class=\"token operator\">></span>ë„ì°© ì‹œê°<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span><span class=\"token comment\">/* &lt;FlightList list={flightList.filter(filterByCondition)} /> */</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token punctuation\">{</span>isLoading <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>LoadingIndicator <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>FlightList list<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>flightList<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"debug-area\"</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>Debug condition<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>condition<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>img id<span class=\"token operator\">=</span><span class=\"token string\">\"logo\"</span> alt<span class=\"token operator\">=</span><span class=\"token string\">\"logo\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"codestates-logo.png\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>main<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"flightdataapijs\" style=\"position:relative;\"><a href=\"#flightdataapijs\" aria-label=\"flightdataapijs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FlightDataApi.js</h3>\n<p><strong>Main.js</strong>ë¥¼ ë³´ë©´ <code class=\"language-text\">getFlight(condition)</code>ëŠ” ì•„ë˜ì™€ ê°™ì´ <strong>FlightDataApi.js</strong>ì— ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getFlight <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../api/FlightDataApi'</span></code></pre></div>\n<h3 id=\"flightdataapijs-1\" style=\"position:relative;\"><a href=\"#flightdataapijs-1\" aria-label=\"flightdataapijs 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FlightDataApi.js</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> flightList <span class=\"token keyword\">from</span> <span class=\"token string\">'../resource/flightList'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> fetch <span class=\"token keyword\">from</span> <span class=\"token string\">'node-fetch'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// localStorage'ì— ì •ë³´ë¥¼ ì €ì¥</span>\r\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'flight'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>flightList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// filterBy = ()ëŠ” ë””í´íŠ¸ ê°’</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getFlight</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">filterBy <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// HINT: ê°€ì¥ ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•´, fetchë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ì•„ë˜ êµ¬í˜„ì€ ì™„ì „íˆ ì‚­ì œë˜ì–´ë„ ìƒê´€ì—†ìŠµë‹ˆë‹¤.</span>\r\n  <span class=\"token comment\">// TODO: ì•„ë˜ êµ¬í˜„ì„ REST API í˜¸ì¶œë¡œ ëŒ€ì²´í•˜ì„¸ìš”.</span>\r\n\r\n  <span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    json <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'flight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">const</span> flight <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//filtered ë°°ì—´ì´ë‹¤</span>\r\n    <span class=\"token keyword\">const</span> filtered <span class=\"token operator\">=</span> flight<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">flight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">let</span> condition <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>filterBy<span class=\"token punctuation\">.</span>departure<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        condition <span class=\"token operator\">=</span> condition <span class=\"token operator\">&amp;&amp;</span> flight<span class=\"token punctuation\">.</span>departure <span class=\"token operator\">===</span> filterBy<span class=\"token punctuation\">.</span>departure<span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>filterBy<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        condition <span class=\"token operator\">=</span> condition <span class=\"token operator\">&amp;&amp;</span> flight<span class=\"token punctuation\">.</span>destination <span class=\"token operator\">===</span> filterBy<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n      <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>filtered<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p>ìœ„ ì½”ë“œë¥¼ ë³´ë©´ ìš°ë¦¬ëŠ” <strong>flightList.js</strong>ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆë‹¤.</p>\n<br>\n<p><strong>ì´ì œ í•˜ë“œì½”ë”© ëœ flightList JSONì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ \r\nREST APIë¥¼ í˜¸ì¶œí•´ ë˜‘ê°™ì´ ì‹¤í–‰í•´ë³´ê² ë‹¤.</strong></p>\n<h4 id=\"1\" style=\"position:relative;\"><a href=\"#1\" aria-label=\"1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.</h4>\n<p>ë‚´ê°€ ì¨ ë³¸ ë°©ë²•ì€ ë‘ ê°€ì§€ ì´ë‹¤.</p>\n<p>ì²«ë²ˆì§¸ë¡œëŠ” ì–´ì°¨í”¼ ì¶œë°œì§€ëŠ” <code class=\"language-text\">ICN</code>ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— destinationë§Œ ê²€ìƒ‰í•´ë„ ê²°ê³¼ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token comment\">// 1.</span>\r\n  <span class=\"token keyword\">let</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://ec2-13-124-90-231.ap-northeast-2.compute.amazonaws.com:81/flight?departure=ICN</span><span class=\"token template-punctuation string\">`</span></span>\r\n  \r\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>filterBy<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n    url <span class=\"token operator\">=</span> url <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;destination=\"</span> <span class=\"token operator\">+</span> filterBy<span class=\"token punctuation\">.</span>destination\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> resp<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê¸°ì¡´ endpointì—ì„œ ì¶œë°œì§€ë¥¼ ì¶”ê°€í•´ì„œ ë³€ìˆ˜ <code class=\"language-text\">url</code>ì„ ë§Œë“¤ê³ , ì¡°ê±´ë¬¸ìœ¼ë¡œ ë„ì°©ì§€ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.</p>\n<p>ë§ˆì§€ë§‰ì— StatesAirline ì„œë²„ì—ì„œ í•­ê³µí¸ ì •ë³´ë¥¼ ìš”ì²­(fetch)ì„ í•˜ë©´ ëœë‹¤.</p>\n<h4 id=\"2\" style=\"position:relative;\"><a href=\"#2\" aria-label=\"2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token comment\">//2</span>\r\n  <span class=\"token keyword\">let</span> emstring <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>filterBy<span class=\"token punctuation\">.</span>departure<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    emstring <span class=\"token operator\">=</span> emstring <span class=\"token operator\">+</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">departure=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filterBy<span class=\"token punctuation\">.</span>departure<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&amp;</span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>filterBy<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    emstring <span class=\"token operator\">=</span> emstring <span class=\"token operator\">+</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">destination=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filterBy<span class=\"token punctuation\">.</span>destination<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">let</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://ec2-13-124-90-231.ap-northeast-2.compute.amazonaws.com:81/flight?</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>emstring<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\r\n  \r\n  <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> resp<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>1.</strong> ë³´ë‹¤ ë” ë³µì¡í•˜ë‹¤.\r\n<code class=\"language-text\">emstring</code>ì´ë¼ëŠ” ë¹ˆ ë¬¸ìì—´ì— ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<p>ê·¸ë¦¬ê³  <code class=\"language-text\">url</code> ë³€ìˆ˜ì— ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ë„£ì€ <code class=\"language-text\">emstring</code>ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<p>ë§ˆì§€ë§‰ì€ ë˜‘ê°™ì´ StatesAirline ì„œë²„ì—ì„œ í•­ê³µí¸ ì •ë³´ë¥¼ ìš”ì²­(fetch)í•˜ë©´ ëœë‹¤.</p>\n<p><strong>Main.js</strong>ì—ì„œ <code class=\"language-text\">useEffect()</code>ë¥¼ ì‚¬ìš©í•œ ì´ìœ ì´ë‹¤.</p>","excerpt":"States Airline ì‹œì‘í•˜ê¸° useEffect \r\në‘ ë²ˆì§¸ ì „ë‹¬ì¸ìì¸ ì¢…ì†ì„±ì´ ì—†ìœ¼ë©´ ì²«ë²ˆì§¸ ì „ë‹¬ì¸ìì¸ í•¨ìˆ˜ë¥¼ _______________ ì‹¤í–‰í•œë‹¤. ì²˜ìŒ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë  ë•Œ propsê°€ ë³€ê²½ë  ë•Œ stateê°€ ë³€ê²½ë  ë•Œ promise Promise ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ë ¤ë©´  ì‚¬ìš© ì˜ˆì‹œ: States Airline LoadingIndicator.js  ë¼ëŠ” ë¡œë”© í™”ë©´ êµ¬í˜„ì€ ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•˜ë‹¤. ê°œë°œìë¼ë©´ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œ ê´€ëŒ€í•´ì§€ë©´ ì•ˆëœë‹¤. êµ¬í˜„í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤. Chinese Salty Egg Main.js  ë°–ì—  ì„ ì–¸ë˜ì–´ ìˆëŠ”ë° ì‹¤í–‰ì€ ë˜ì§€ë§Œ ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê¸° ë•Œë¬¸ì— ì„ ë°”ë¡œ ì‹¤í–‰ì´ ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì„ ì•ˆì— ë„£ì–´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤. Main.js ì „ì²´ ì½”ë“œëŠ” ì´ë ‡ë‹¤. FlightDataApi.js Main.jsë¥¼ ë³´ë©´ ëŠ” ì•„ë˜ì™€ ê°™ì´ FlightDataApi.jsì— ìˆë‹¤. FlightDataApi.js ìœ„ ì½”ë“œë¥¼ ë³´ë©´ ìš°ë¦¬ëŠ” flightLisâ€¦","frontmatter":{"date":"August 10, 2022","title":"States Airline","categories":"codestates blog","author":"ê¹€ì˜ˆë¦°","emoji":null},"fields":{"slug":"/2022-08-10/"}},"next":{"id":"18ceff07-3fc2-5a97-aa8b-bee5aa77d699","html":"<h3 id=\"react-ë°ì´í„°-íë¦„\" style=\"position:relative;\"><a href=\"#react-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%9D%90%EB%A6%84\" aria-label=\"react ë°ì´í„° íë¦„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React ë°ì´í„° íë¦„</h3>\n<p>í˜ì´ì§€ë¥¼ ë§Œë“¤ê¸° ì´ì „ì—, ì»´í¬ë„ŒíŠ¸ë¥¼ ë¨¼ì € ë§Œë“¤ê³  ì¡°ë¦½í•œë‹¤. ìƒí–¥ì‹ìœ¼ë¡œ ì•±ì„ ë§Œë“¤ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‰½ê³  í™•ì¥ì„±ì´ ì¢‹ë‹¤.</p>\n<h4 id=\"ë‹¨ë°©í–¥-ë°ì´í„°-íë¦„one-way-data-flow\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EB%B0%A9%ED%96%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%9D%90%EB%A6%84one-way-data-flow\" aria-label=\"ë‹¨ë°©í–¥ ë°ì´í„° íë¦„one way data flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¨ë°©í–¥ ë°ì´í„° íë¦„(one-way data flow)</h4>\n<p>ìƒíƒœë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìœ¼ë©°,</p>\n<h4 id=\"lifting-state--í•˜í–¥ì‹-ë°ì´í„°-íë¦„top-down-data-flow\" style=\"position:relative;\"><a href=\"#lifting-state--%ED%95%98%ED%96%A5%EC%8B%9D-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%9D%90%EB%A6%84top-down-data-flow\" aria-label=\"lifting state  í•˜í–¥ì‹ ë°ì´í„° íë¦„top down data flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lifting state / í•˜í–¥ì‹ ë°ì´í„° íë¦„(Top-down data flow)</h4>\n<p>ë³´í†µ stateëŠ” renderingì„ ìœ„í•´ì„œ componentì— ì¶”ê°€ë˜ëŠ”ë°,\r\në§Œì•½ ë‹¤ë¥¸ componentë„ í•¨ê»˜ stateë¥¼ í•„ìš”ë¡œí•˜ë©´\r\nê·¸ componentë“¤ì˜ ê³µí†µëœ ë¶€ëª¨ componentë¡œ stateë¥¼ ëŒì–´ì˜¬ë¦°ë‹¤.</p>\n<p>ë¶€ëª¨ componentì—ì„œ ê´€ë¦¬í•˜ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤. ì´ê²ƒì´ í•˜í–¥ì‹ ë°ì´í„° íë¦„ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p>\n<p><strong>ì¥ì  :\r\nbugê°€ ì¤„ê³ , ê´€ë¦¬í•˜ëŠ” ë¡œì§ ìˆ˜ì •ì´ ì‰¬ì›€.</strong></p>\n<p>ğŸ“ ë§Œì•½ UIì—ì„œ ì˜ëª»ëœ ê°’ì´ render ëœ ë¶€ë¶„ì„ ë°œê²¬í•œë‹¤ë©´\r\ní•´ë‹¹ data, ì¦‰ propsê°€ ì–´ë– í•œ ë¶€ëª¨ componentë¡œë¶€í„° ì™”ëŠ”ì§€\r\ncomponent treeì˜ ìƒìœ„ë¥¼ íƒìƒ‰í•˜ì—¬ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\r\nê·¸ ê²°ê³¼, bugë¥¼ ì‰½ê²Œ ë°œê²¬í•˜ì—¬ ê³ ì¹  ìˆ˜ ìˆë‹¤.</p>","frontmatter":{"date":"August 09, 2022","title":"[8ì£¼ì°¨] React lifting state up - 2ì¼ì°¨","categories":"codestates blog","author":"ê¹€ì˜ˆë¦°","emoji":null},"fields":{"slug":"/2022-08-09/"}},"prev":{"id":"7a4edebe-98e5-5e13-91ae-76b8f170a621","html":"<p>API ì„œë²„ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë„ êµ¬í˜„í•  ì¤„ ì•Œì•„ì•¼ í•œë‹¤. ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ë ¤ê³  í•´ë„, í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ë³¸ì ì¸ API ì„œë²„ë¥¼ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤ë©´ ì•„ë¬´ëŸ° ë™ì  í™œë™ì„ í•  ìˆ˜ ì—†ëŠ” í´ë¼ì´ì–¸íŠ¸ë§Œ êµ¬í˜„ë  ìˆ˜ ë°–ì— ì—†ë‹¤.</p>\n<h3 id=\"sopê°€-ìƒê²¨ë‚œ-ì´ìœ \" style=\"position:relative;\"><a href=\"#sop%EA%B0%80-%EC%83%9D%EA%B2%A8%EB%82%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"sopê°€ ìƒê²¨ë‚œ ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SOPê°€ ìƒê²¨ë‚œ ì´ìœ </h3>\n<p>SOPì€ ì• ì´ˆì— ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì™€ì˜ ë¦¬ì†ŒìŠ¤ ê³µìœ ë¥¼ ì œí•œí•˜ê¸° ë•Œë¬¸ì— í•´í‚¹ ë“±ì˜ ìœ„í˜‘ì—ì„œ ë³´ë‹¤ ë” ì•ˆì „í•´ì§ˆ ìˆ˜ ìˆë‹¤. ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì •ì±…ì´ë‹¤.</p>\n<h3 id=\"cors\" style=\"position:relative;\"><a href=\"#cors\" aria-label=\"cors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS</h3>\n<p><strong>Cross-Origin Resource Sharingì˜ ì¤„ì„ë§ë¡œ êµì°¨ ì¶œì²˜ ë¦¬ì†ŒìŠ¤ ê³µìœ ë¥¼ ëœ»í•œë‹¤.</strong></p>\n<p>ì¶”ê°€ HTTP í—¤ë”ë¥¼ ì‚¬ìš©í•˜ì—¬, í•œ ì¶œì²˜ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ë¥¸ ì¶œì²˜ì˜ ì„ íƒí•œ ìì›ì— <strong>ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬</strong>í•˜ë„ë¡ ë¸Œë¼ìš°ì €ì— ì•Œë ¤ì£¼ëŠ” ì²´ì œì´ë‹¤.</p>\n<h4 id=\"ï¸-cors-ë™ì‘-ë°©ì‹\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-cors-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D\" aria-label=\"ï¸ cors ë™ì‘ ë°©ì‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ”ï¸ CORS ë™ì‘ ë°©ì‹</h4>\n<ol>\n<li>í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ (Preflight Request)\r\në‹¨ìˆœ ìš”ì²­ (Simple Request)ì´ë¼ëŠ” ê²ƒì€ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­(Preflight Request)ì„ ìƒëµí•˜ëŠ” ìš”ì²­ì´ë‹¤.</li>\n<li>ì¸ì¦ì •ë³´ë¥¼ í¬í•¨í•œ ìš”ì²­ (Credentialed Request)\r\nì´ ê²½ìš°ì—ëŠ” í”„ë¡ íŠ¸, ì„œë²„ ì–‘ì¸¡ ëª¨ë‘ CORS ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.</li>\n</ol>\n<br>\n<h3 id=\"nodejs-http\" style=\"position:relative;\"><a href=\"#nodejs-http\" aria-label=\"nodejs http permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node.js HTTP</h3>\n<p>Node.jsë¡œ ê°„ë‹¨í•œ HTTP ì„œë²„ë¥¼ ë§Œë“¤ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì‘ë‹µ í—¤ë”ë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">request<span class=\"token punctuation\">,</span> response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n<span class=\"token comment\">// ëª¨ë“  ë„ë©”ì¸</span>\r\n  response<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Origin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// íŠ¹ì • ë„ë©”ì¸</span>\r\n  response<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Origin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"https://codestates.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// ì¸ì¦ ì •ë³´ë¥¼ í¬í•¨í•œ ìš”ì²­ì„ ë°›ì„ ê²½ìš°</span>\r\n  response<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Credentials\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n<h3 id=\"express\" style=\"position:relative;\"><a href=\"#express\" aria-label=\"express permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Express</h3>\n<p>Express í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ì„œ ì„œë²„ë¥¼ ë§Œë“œëŠ” ê²½ìš°ì—ëŠ”, cors ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ë³´ë‹¤ ë” ê°„ë‹¨í•˜ê²Œ CORS ì„¤ì •ì„ í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cors <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cors\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">//ëª¨ë“  ë„ë©”ì¸</span>\r\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">//íŠ¹ì • ë„ë©”ì¸</span>\r\n<span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  origin<span class=\"token operator\">:</span> <span class=\"token string\">\"https://codestates.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë„ë©”ì¸</span>\r\n  credentials<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ì‘ë‹µ í—¤ë”ì— Access-Control-Allow-Credentials ì¶”ê°€</span>\r\n  optionsSuccessStatus<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ì‘ë‹µ ìƒíƒœ 200ìœ¼ë¡œ ì„¤ì •</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">//íŠ¹ì • ìš”ì²­</span>\r\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/example/:id\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> msg<span class=\"token operator\">:</span> <span class=\"token string\">\"example\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Expressë¡œ êµ¬í˜„í•œ ì„œë²„ê°€ Node.js HTTP ëª¨ë“ˆë¡œ ì‘ì„±í•œ ì„œë²„ì™€ ë‹¤ë¥¸ ì :</strong></p>\n<ol>\n<li>ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë¼ìš°í„°ë¥¼ ì œê³µí•œë‹¤.</li>\n</ol>\n<h4 id=\"ï¸-ë¯¸ë“¤ì›¨ì–´ë¥¼-ì‚¬ìš©í•˜ëŠ”-ìƒí™©\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EB%AF%B8%EB%93%A4%EC%9B%A8%EC%96%B4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%83%81%ED%99%A9\" aria-label=\"ï¸ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ”ï¸ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒí™©</h4>\n<ol>\n<li>POST ìš”ì²­ ë“±ì— í¬í•¨ëœ body(payload)ë¥¼ êµ¬ì¡°í™”í•  ë•Œ(ì‰½ê²Œ ì–»ì–´ë‚´ê³ ì í•  ë•Œ)</li>\n<li>ëª¨ë“  ìš”ì²­/ì‘ë‹µì— CORS í—¤ë”ë¥¼ ë¶™ì—¬ì•¼ í•  ë•Œ</li>\n<li>ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ urlì´ë‚˜ ë©”ì„œë“œë¥¼ í™•ì¸í•  ë•Œ</li>\n<li>ìš”ì²­ í—¤ë”ì— ì‚¬ìš©ì ì¸ì¦ ì •ë³´ê°€ ë‹´ê²¨ìˆëŠ”ì§€ í™•ì¸í•  ë•Œ</li>\n</ol>\n<br>\n<h3 id=\"http-íŠ¸ëœì­ì…˜-í•´ë¶€\" style=\"position:relative;\"><a href=\"#http-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%ED%95%B4%EB%B6%80\" aria-label=\"http íŠ¸ëœì­ì…˜ í•´ë¶€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP íŠ¸ëœì­ì…˜ í•´ë¶€</h3>\n<p><a href=\"https://nodejs.org/ko/docs/guides/anatomy-of-an-http-transaction/\">[HTTP íŠ¸ëœì­ì…˜ í•´ë¶€ ê³µì‹ ë¬¸ì„œ]</a></p>\n<p>Node.js HTTP ì²˜ë¦¬ ê³¼ì •ì„ ì˜ ì´í•´í•˜ê¸° ìœ„í•´ ìœ„ ê³µì‹ ë¬¸ì„œë¥¼ ê¼­ ì½ì–´ë´ì•¼ í•œë‹¤. <strong>Mini Node Server</strong>ë¼ëŠ” ê³¼ì œë¥¼ í•˜ë©´ì„œ ê³µì‹ ê°€ì´ë“œì—ì„œ ì¤‘ìš”í•œ ì ì„ ì‚´í´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> body <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  body<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  body <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// ì—¬ê¸°ì„œ `body`ì— ì „ì²´ ìš”ì²­ ë°”ë””ê°€ ë¬¸ìì—´ë¡œ ë‹´ê²¨ìˆìŠµë‹ˆë‹¤.</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê° <code class=\"language-text\">'data'</code> ì´ë²¤íŠ¸ì—ì„œ ë°œìƒì‹œí‚¨ chuckëŠ” <code class=\"language-text\">Buffer</code>ì´ë‹¤. ì´ <strong>chunkê°€ ë¬¸ìì—´ ë°ì´í„°</strong>ë¼ëŠ” ê²ƒì„ ì•Œê³  ìˆë‹¤ë©´ ì´ ë°ì´í„°ë¥¼ ë°°ì—´ì— ìˆ˜ì§‘í•œ ë‹¤ìŒ <code class=\"language-text\">'end'</code> ì´ë²¤íŠ¸ì—ì„œ ì´ì–´ ë¶™ì¸ ë‹¤ìŒ ë¬¸ìì—´ë¡œ ë§Œë“œëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤.</p>\n<h4 id=\"basic-serverjs\" style=\"position:relative;\"><a href=\"#basic-serverjs\" aria-label=\"basic serverjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>basic-server.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span> <span class=\"token operator\">&amp;&amp;</span> request<span class=\"token punctuation\">.</span>url <span class=\"token operator\">===</span><span class=\"token string\">'/upper'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">//   //ëŒ€ë¬¸ìë¡œ ì‘ë‹µ</span>\r\n      <span class=\"token keyword\">let</span> body <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n      request<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        body<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        body <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìš°ë¦¬ ê³¼ì œì˜ ì¼ë¶€ ì¡°ê±´ë¬¸ì„ ì„¤ëª…í•˜ë©´ <code class=\"language-text\">POST</code>ì— ë¬¸ìì—´ì„ ë‹´ì•„ ìš”ì²­ì„ ë³´ë‚¼ ë•ŒëŠ” HTTP ë©”ì‹œì§€ì˜ <code class=\"language-text\">body(payload)</code>ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ì‘ë‹µì„ <code class=\"language-text\">end</code>ì— ì´ë²¤íŠ¸ë¡œ ë³´ë‚¸ë‹¤.</p>\n<p>ì¤‘ìš”í•œ ì ì€, ì—¬ê¸°ì„œ <code class=\"language-text\">CORS error</code>ê°€ ìƒê¸´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVQI1y2M2wqDMBAF/f+P07C3rJcXG4RCMRIFS6vslkBhOMzDcBoLwUQMwEUO1R1xY87Mr647VI3IEGugaszG7CmdfZ+Z93lunPlmvokuokvkA3CF4CJOVFfVx9EBqohUj9FDqI/Mzbdt34jHNBWAIpJDKDFa3ztiJSUvxXP+s66+beeyPIiew/AD1+mgA53aM48AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chinese Salty Egg\"\n        title=\"Chinese Salty Egg\"\n        src=\"/static/7c6e24b0732ea464e7e880d0f1a89c59/37523/cors_error.png\"\n        srcset=\"/static/7c6e24b0732ea464e7e880d0f1a89c59/e9ff0/cors_error.png 180w,\n/static/7c6e24b0732ea464e7e880d0f1a89c59/f21e7/cors_error.png 360w,\n/static/7c6e24b0732ea464e7e880d0f1a89c59/37523/cors_error.png 720w,\n/static/7c6e24b0732ea464e7e880d0f1a89c59/302a4/cors_error.png 1080w,\n/static/7c6e24b0732ea464e7e880d0f1a89c59/21b4d/cors_error.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.222222222222221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABJ0AAASdAHeZh94AAAAR0lEQVQI1z3KOw6AIBBAQe9/SmNiLPgt4gK7FM/EwmK62cJ58cSAuWNmP1+LVjIjJ7oIEgNdlXLslCRMX9+bo6N3RVujxsALKoxM4XEwUoIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chinese Salty Egg\"\n        title=\"Chinese Salty Egg\"\n        src=\"/static/2ef749fce5241c5c0a993fd82f450953/37523/cors_error2.png\"\n        srcset=\"/static/2ef749fce5241c5c0a993fd82f450953/e9ff0/cors_error2.png 180w,\n/static/2ef749fce5241c5c0a993fd82f450953/f21e7/cors_error2.png 360w,\n/static/2ef749fce5241c5c0a993fd82f450953/37523/cors_error2.png 720w,\n/static/2ef749fce5241c5c0a993fd82f450953/7608e/cors_error2.png 735w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ë¶„ëª…íˆ ë§ê²Œ ì „ë‹¬ì´ ë˜ì—ˆë‹¤ê³  ìƒê°í–ˆê³ , CORS ê´€ë ¨ í—¤ë”ë¥¼ OPTIONS ì‘ë‹µì— ë§ê²Œ ì ìš©í–ˆë‹¤ê³  ìƒê°í–ˆë‹¤. <del>(ì•„ë˜ì™€ ê°™ì´)</del></p>\n<h4 id=\"basic-serverjs-1\" style=\"position:relative;\"><a href=\"#basic-serverjs-1\" aria-label=\"basic serverjs 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>basic-server.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'OPTIONS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//cors ì„¤ì •ì„ ëŒë ¤ì¤˜ì•¼ í•œë‹¤</span>\r\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> defaultCorsHeader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello mini-server sprints'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">//...ìƒëµ</span>\r\n\r\n  <span class=\"token keyword\">const</span> defaultCorsHeader <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Origin'</span><span class=\"token operator\">:</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//ëª¨ë“  ë„ë©”ì¸</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Methods'</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET, POST, PUT, DELETE, OPTIONS'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Headers'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Content-Type, Accept'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token string\">'Access-Control-Max-Age'</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>í•˜ì§€ë§Œ, ì˜¤ë¥˜ë¥¼ ìì„¸íˆ ë“¤ì—¬ë‹¤ ë³´ë‹ˆ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 467px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.444444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA9UlEQVQY032Oy26DMBBF+f8Py4au0wBpDNjG4PAu7iI4nEqmSlWl7UhHc+fO6GqiOI45HA7E8Qvnc0aapoEkSXadpQ8vy773p9PpV6KmrjkeX0mSFCFypFRUlaapGypdIYsyeFJKLhdBWe7zNE2M4/hEBGAbizE1xhgaY5mnma7rwsHyvuDcB845FueY5jnMf1XkvScXOVn2hpKKVKTkpuBqr9xuN/6tDbZt+0Hk/UpRFCilqWRF0ZWIXjD2ExtbCF1XH/qu1wf+7vfcr7Dw4f3u0bpCK421FlUolmmh7VqGYaA2BmOasBv6gbbdfaUUbdc/BX4CfqDEePduOegAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chinese Salty Egg\"\n        title=\"Chinese Salty Egg\"\n        src=\"/static/6b01f3057653e16411355e8d7b1db5f8/85ff8/cors_error3.png\"\n        srcset=\"/static/6b01f3057653e16411355e8d7b1db5f8/e9ff0/cors_error3.png 180w,\n/static/6b01f3057653e16411355e8d7b1db5f8/f21e7/cors_error3.png 360w,\n/static/6b01f3057653e16411355e8d7b1db5f8/85ff8/cors_error3.png 467w\"\n        sizes=\"(max-width: 467px) 100vw, 467px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">/upper</code>ì™€ <code class=\"language-text\">/lower</code>ì—ì„œ CORS ì—ëŸ¬ê°€ ë‚œ ê²ƒì´ì—ˆê³ , ê° ì¡°ê±´ë¬¸ì— <code class=\"language-text\">OPTIONS</code>ì— ì¼ë˜  <code class=\"language-text\">writeHead</code>ë©”ì„œë“œë¥¼ ì¨ì¤˜ì•¼ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">response<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> defaultCorsHeader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë°˜ë“œì‹œ Node.jsì—ì„œëŠ” <code class=\"language-text\">writeHead</code> ë©”ì„œë“œ ë“±ì„ ì´ìš©í•˜ì—¬ ë¼ìš°íŒ…ë§ˆë‹¤ í—¤ë”ë¥¼ ë§¤ë²ˆ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤. ê·¸ë¿ë§Œ ì•„ë‹ˆë¼, OPTIONS ë©”ì„œë“œì— ëŒ€í•œ ë¼ìš°íŒ…ë„ ë”°ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤.</p>\n<p>ì´ë ‡ê²Œ í•´ì„œ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì—¬ <strong>Mini Node Server</strong> ê³¼ì œë¥¼ ë§ˆë¬´ë¦¬í–ˆë‹¤.</p>\n<h4 id=\"basic-serverjs-2\" style=\"position:relative;\"><a href=\"#basic-serverjs-2\" aria-label=\"basic serverjs 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>basic-server.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> <span class=\"token number\">4999</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> ip <span class=\"token operator\">=</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// ì´ ì„œë²„ë¡œ ì˜¤ëŠ” HTTP ìš”ì²­ë§ˆë‹¤ createServerì— ì „ë‹¬ëœ í•¨ìˆ˜ê°€ í•œ ë²ˆì”© í˜¸ì¶œ</span>\r\n<span class=\"token comment\">// nodeê°€ íŠ¸ëœì­ì…˜ì„ ë‹¤ë£¨ë ¤ê³  requestì™€ response ê°ì²´ë¥¼ ì „ë‹¬í•˜ë©° ìš”ì²­ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ</span>\r\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">request<span class=\"token punctuation\">,</span> response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token comment\">//í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­</span>\r\n  <span class=\"token comment\">// ë©”ì†Œë“œê°€ options</span>\r\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'OPTIONS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//cors ì„¤ì •ì„ ëŒë ¤ì¤˜ì•¼ í•œë‹¤</span>\r\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> defaultCorsHeader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello mini-server sprints'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// ë©”ì†Œë“œê°€ postê³ , urlì´ /upperì´ë©´</span>\r\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span> <span class=\"token operator\">&amp;&amp;</span> request<span class=\"token punctuation\">.</span>url <span class=\"token operator\">===</span><span class=\"token string\">'/upper'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">//ëŒ€ë¬¸ìë¡œ ì‘ë‹µ</span>\r\n      <span class=\"token keyword\">let</span> body <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n      request<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        body<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        body <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        response<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> defaultCorsHeader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token comment\">// ë©”ì†Œë“œê°€ postê³ , urlì´ /lowerì´ë©´</span>\r\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span> <span class=\"token operator\">&amp;&amp;</span> request<span class=\"token punctuation\">.</span>url <span class=\"token operator\">===</span> <span class=\"token string\">'/lower'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//ì†Œë¬¸ìë¡œ ì‘ë‹µ</span>\r\n    <span class=\"token keyword\">let</span> body <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    request<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      body<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>chunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      body <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> defaultCorsHeader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//ì—ëŸ¬ë¡œ ì²˜ë¦¬. ìƒíƒœ ì½”ë“œë¥¼ ë³€ê²½í•˜ë ¤ë©´ statusCode í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •, 400 = bad request</span>\r\n      response<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span> \r\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http request method is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>request<span class=\"token punctuation\">.</span>method<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, url is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>request<span class=\"token punctuation\">.</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">,</span> ip<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http server listen on </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ip<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PORT</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> defaultCorsHeader <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Origin'</span><span class=\"token operator\">:</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//ëª¨ë“  ë„ë©”ì¸</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Methods'</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET, POST, PUT, DELETE, OPTIONS'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token string\">'Access-Control-Allow-Headers'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Content-Type, Accept'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token string\">'Access-Control-Max-Age'</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"date":"August 11, 2022","title":"[8ì£¼ì°¨] [Web Server] ê¸°ì´ˆ - 4ì¼ì°¨","categories":"codestates blog","author":"ê¹€ì˜ˆë¦°","emoji":null},"fields":{"slug":"/2022-08-11/"}},"site":{"siteMetadata":{"siteUrl":"https://yelinz515.github.io","comments":{"utterances":{"repo":"yelinz515/blog-comments"}}}}},"pageContext":{"slug":"/2022-08-10/","nextSlug":"/2022-08-09/","prevSlug":"/2022-08-11/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}