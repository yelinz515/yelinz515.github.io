---
emoji: ğŸª£
title: '[React] ê°€ì§œ API ì„œë²„ë¡œ í†µì‹ í•˜ê¸°'
date: '2022-11-21'
author: ê¹€ì˜ˆë¦°
tags: codestates
categories: mainproject
---

[json-server](https://react.vlpt.us/redux-middleware/08-json-server.html)

ì—°ìŠµì„ ìœ„í•´ì„œ ì‹¤ë¬´ì™€ ë¹„ìŠ·í•œ ëŠë‚Œìœ¼ë¡œ í•˜ê¸° ìœ„í•´ ê°€ì§œ API ì„œë²„ë¥¼ ë§Œë“¤ì–´ í†µì‹ ì„ í•´ë³´ì•˜ë‹¤.

<br>

## ê°€ì§œ API ì„œë²„ ì—´ê¸°

---

```json
$ npx json-server ./data.json --port 4000
```

`./data.json`ì—ëŠ” í•´ë‹¹ íŒŒì¼ ì´ë¦„ì„ ì ê³ , `4000`ì—ëŠ” ì›í•˜ëŠ” í¬íŠ¸ë²ˆí˜¸ë¥¼ ì ì–´ ì„œë²„ë¥¼ ì—´ ìˆ˜ ìˆë‹¤.

<br>

## axios ë¥¼ ì‚¬ìš©í•˜ì—¬ API ìš”ì²­í•˜ê¸°

---

ë§ˆì´ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€, ëŒ“ê¸€ì„ êµ¬í˜„í•  ë•Œ json-serverë¥¼ ì´ìš©í–ˆë‹¤.

### todos.json

```json
{
  "todos": [
    {
      "title": "ì˜ ëœë‹¤.",
      "completed": false,
      "id": 1
    },
    {
      "title": "patch ë„ˆë¬´ë„ˆë¬´ ì˜ëœë‹¤.",
      "completed": false,
      "id": 2
    },
    {
      "title": "ì˜ ëœë‹¤ì‰~",
      "completed": true,
      "id": 3
    }
  ]
}
```

<br>

### comment.json

```json
{
  "comments": [
    {
      "content": "ë„ˆë¬´ ë©‹ì ¸ìš”",
      "writer": "yerin",
      "postId": "123123",
      "created_at": "Mon Nov 28 2022 18:34:08 GMT+0900 (í•œêµ­ í‘œì¤€ì‹œ)",
      "id": 1
    },
    {
      "content": "ê¸°ë³¸ê°’ìœ¼ë¡œ ê¼­ ë„£ì–´ì£¼ì„¸ìš”!!! ê°ì‚¬í•¨ë‹¤~",
      "writer": "Jisoo",
      "postId": "123123",
      "created_at": "Mon Nov 28 2022 18:35:26 GMT+0900 (í•œêµ­ í‘œì¤€ì‹œ)",
      "id": 2
    }
  ]
}
```

<br>

## ğŸ”³ ì°¸ê³ 

---

[json-server-auth](https://github.com/jeremyben/json-server-auth)

JSON serverìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì´ë‹¤.

íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì´ìš©í–ˆë‹¤.

### JSON server ì‹œì‘í•˜ê¸°

```json
json-server db.json -m ./node_modules/json-server-auth
```

<br>

íšŒì›ê°€ì… : `POST /users`

```json
POST /users
{
  "users": [
    {
      "email": "abc@abc.com",
      "password": "$2a$10$d17.gKfdjm6rt.3xDBLEhetru.QTQ4ondBcOFw53T4/19XWyNgv72",
      "name": "abc",
      "id": 1
    }
  ]
}
```

íšŒì›ê°€ì…ì„ ì‹œë„í•˜ë‹ˆ ìœ„ì²˜ëŸ¼ ë°ì´í„°ê°€ ë“±ë¡ë˜ì—ˆë‹¤.

<br>

### ì•„ì‰¬ìš´ ì 

json-server-authëŠ” íšŒì› ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸ ì‹œ accessTokenë§Œì„ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ì£¼ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìë¥¼ ì‹ë³„í•  ë°©ë²•ì´ ì—†ë‹¤. ë§Œì•½, í•„ìš”í•˜ë‹¤ë©´ ì§ì ‘ êµ¬í˜„ì„ í•´ì•¼ í•  ê²ƒ ê°™ë‹¤.
