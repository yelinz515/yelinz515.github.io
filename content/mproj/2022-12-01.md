---
emoji: ğŸˆ
title: '[React] ë¡œê·¸ì¸, íšŒì›ê°€ì… (React Hook Form ì‚¬ìš©í•˜ê¸°)'
date: '2022-12-01'
author: ê¹€ì˜ˆë¦°
tags: codestates
categories: mainproject
---

## react-hook-form

[react-hook-form](https://react-hook-form.com/)

react-hook-formì„ ì„ íƒí•œ ì´ìœ ëŠ” React ë‚´ì—ì„œ Formì„ ì‰½ê²Œ ì œì–´í•˜ê³  ì†ì‰½ê²Œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ë„ì™€ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.

<br>

ì‹¤ì œë¡œ React Hook Formì„ ì‚¬ìš©í•˜ë©´ì„œ valueì™€ onChangeë¡œ ê° ì…ë ¥ í•„ë“œì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ì—ˆë‹¤. ë˜í•œ, stateë¥¼ ì§ì ‘ ê´€ë¦¬í•  í•„ìš”ë„ ì—†ì—ˆë‹¤.

<br>

## react-hook-form ì„ ì´ìš©í•´ì„œ ìœ íš¨ì„±ê²€ì‚¬

---

```js
const useform = useForm();
console.log(useform);
```

###

ì‹¤ì œë¡œ ì½˜ì†”ì„ í™•ì¸í•´ë³´ë©´

###

![form_hook.png](form_hook.png)

###

React Hook Formì€ form ì‘ì—…ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” useForm hookì„ ì œê³µí•œë‹¤. ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ì„œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

<br>

## Signup.js

---

```js
const {
  register,
  handleSubmit,
  formState: { errors },
  watch,
} = useForm();

  const currentPassword = useRef({});
  currentPassword.current = watch("password", "");

  ...

  return (
    <>
      <ShortInput
        {...register("password", {
            required: true,
            minLength: {
            value: 8,
            message: "ìµœì†Œ 8ì ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",
            },
            pattern: {
            value: /^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[~?!@#$%^&*_-]).{8,}$/,
            message: "ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í˜¼í•© ì‚¬ìš©í•˜ì—¬ ìˆœì„œëŒ€ë¡œ ì£¼ì„¸ìš”.",
            },
        })}
        type="password"
      />
    </>
  )
```

### ğŸ’¿ register

useForm()ì—ì„œ êµ¬ì¡°ë¶„í•´í• ë‹¹ì„ í†µí•´ register, watch ë¥¼ êº¼ëƒˆë‹¤.

registerëŠ” `name`, `options`ë¥¼ ê°€ì§€ëŠ”ë°, ìœ„ ì½”ë“œì—ì„œ `name`ì€ "email"ì´ê³ , `options`ëŠ” ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.

### ğŸ’¿ watch

currentPassword.currentë¥¼ í†µí•´ í˜„ì¬ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
watch()ë¥¼ ì‚¬ìš©í•˜ì—¬ inputê°’ì˜ valueë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<br>

### ğŸ’¿ handleSubmit

```js
const onValid = async (data) => {
  const postSignup = {
    nickname: data.nickname,
    email: data.email,
    password: data.password,
  };

  // íšŒì›ê°€ì… ìš”ì²­
  const res = await useFetch('POST', `/auth/register`, postSignup);
};

const onInValid = (error) => {
  console.log('error', error);
};

return (
  <>
    <InputContainer onSubmit={handleSubmit(onValid, onInValid)}>...</InputContainer>
  </>
);
```

handleSubmitì„ ì‚¬ìš©í•˜ë©´ ì œì¶œ ì‹œ ìƒˆë¡œê³ ì¹¨ í˜„ìƒì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, event.preventDefault()ë¥¼ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ì œì¶œ í–ˆì„ ë•Œ formì´ ìœ íš¨í•˜ë‹¤ë©´ onValidê°€ ì‹¤í–‰ë˜ê³ , ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ onInvalidê°€ ì‹¤í–‰ëœë‹¤.

<br>

### ğŸ’¿ formState

```js
const {
  formState: { errors },
} = useForm();

return (
  <>
    <ShortInput
      {...register('password', {
        required: true,
        minLength: {
          value: 8,
          message: 'ìµœì†Œ 8ì ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.',
        },
        pattern: {
          value: /^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[~?!@#$%^&*_-]).{8,}$/,
          message: 'ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í˜¼í•© ì‚¬ìš©í•˜ì—¬ ìˆœì„œëŒ€ë¡œ ì£¼ì„¸ìš”.',
        },
      })}
      type="password"
    />
    {errors.password && <ErrorMSG role="alert">{errors.password.message}</ErrorMSG>}
  </>
);
```

formState ì˜ errorsë¥¼ ì‚¬ìš©í•˜ë©´ í›¨ì”¬ ë” ê°„í¸í•˜ê²Œ errorë¥¼ ê²€ì¶œí•  ìˆ˜ ìˆë‹¤.

ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ê°€ í‹€ë¦¬ë©´ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•œë‹¤.

<br>

## íšŒì›ê°€ì…

---

![register.gif](register.gif)

<br>
<br>

ë¡œê·¸ì¸ í˜ì´ì§€ë„ íšŒì›ê°€ì…ê³¼ ë™ì¼í•˜ê²Œ React Hook Formì„ ì‚¬ìš©í•´ì„œ êµ¬í˜„í–ˆë‹¤.

## ë¡œê·¸ì¸

---

![login.gif](login.gif)
